# ============================================================
# ATOMIC FIZZ CAPS - TESTNET/PUBLIC TESTING CONFIGURATION
# ============================================================
# This configuration is for public testnet deployment
# Open to all wallets for play testing - NO restrictions
# ============================================================

# ------------------------------------------------------------
# SERVER CONFIGURATION
# ------------------------------------------------------------
PORT=3000
NODE_ENV=development
# For production testnet use: NODE_ENV=production

# ------------------------------------------------------------
# SOLANA NETWORK - DEVNET (Testnet)
# ------------------------------------------------------------
# Use devnet for public testing (free SOL from faucet)
SOLANA_RPC_URL=https://api.devnet.solana.com
# Alternative: Use Helius for better reliability
# SOLANA_RPC_URL=https://devnet.helius-rpc.com/?api-key=YOUR_HELIUS_KEY

# ------------------------------------------------------------
# REDIS CONFIGURATION
# ------------------------------------------------------------
# Redis is required for player state, quests, and caching
REDIS_URL=redis://localhost:6379
# For production Redis with auth:
# REDIS_URL=redis://default:password@host:6379
REDIS_PREFIX=afc:
REQUIRE_REDIS_IN_PRODUCTION=false

# ------------------------------------------------------------
# HELIUS API (NFT Fetching & RPC)
# ------------------------------------------------------------
# Get free API key from: https://dev.helius.xyz/
HELIUS_API_KEY=your_helius_api_key_here
# Used for:
# - Fetching player NFTs
# - Enhanced RPC with better rate limits
# - Asset indexing for game items

# ------------------------------------------------------------
# METAPLEX CONFIGURATION
# ------------------------------------------------------------
# Metaplex is used for NFT minting and collection management
# These are devnet addresses for testing

# Your NFT Collection Address (devnet)
# Create collection at: https://www.metaplex.com/
METAPLEX_COLLECTION_ADDRESS=your_collection_address_here

# Token Mint Addresses (devnet)
CAPS_MINT=your_caps_token_mint_address
TREASURY_WALLET=your_treasury_wallet_address

# ------------------------------------------------------------
# SECURITY & AUTHENTICATION
# ------------------------------------------------------------
# Generate a secure random key for signing
# Run: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
SERVER_SECRET_KEY=generate_a_secure_random_base64_key_here

# Admin credentials for dashboard access
ADMIN_USERNAME=admin
ADMIN_PASSWORD=change_this_password_in_production

# Admin wallets (comma-separated, optional)
# Leave empty for public testing - NO WALLET RESTRICTIONS
ADMIN_WALLETS=

# Admin mint secret (for production minting control)
# Leave empty for dev/testnet to allow all wallets
ADMIN_MINT_SECRET=

# ------------------------------------------------------------
# CORS & FRONTEND
# ------------------------------------------------------------
# Allowed origins for CORS (comma-separated)
FRONTEND_ORIGIN=http://localhost:3000,https://atomicfizzcaps.xyz,https://*.vercel.app,https://*.onrender.com
CLIENT_ORIGIN=http://localhost:3000

# Backend URL (for frontend to call APIs)
NEXT_PUBLIC_BACKEND_URL=http://localhost:3000

# ------------------------------------------------------------
# GAME MECHANICS CONFIGURATION
# ------------------------------------------------------------
# GPS/Location settings
GPS_MAX_DISTANCE_METERS=100

# Loot & rewards
DEFAULT_LOOT_CAPS=5
LOOT_ID_TO_CAPS={"common":5,"rare":10,"epic":25,"legendary":50}

# Minting limits (daily per wallet)
MINT_DAILY_LIMIT=10

# Voucher system
VOUCHER_TTL_SECONDS=3600
VOUCHER_KEY_ID=voucher_signing_key

# ------------------------------------------------------------
# OPTIONAL: ADVANCED FEATURES
# ------------------------------------------------------------
# Fizz Fun Program (on-chain token launch)
FIZZ_FUN_PROGRAM_ID=your_program_id_if_deployed

# AWS/KMS for secure key management (production only)
# AWS_REGION=us-east-1
# KMS_SIGNING_KEY_ID=your_kms_key_id
# KMS_SIGNING_ALGORITHM=ECDSA_SHA_256

# Audit logging
# KEYS_AUDIT_STREAM=keys:audit:stream
# KEYS_CACHE_TTL_MS=300000

# Admin session
ADMIN_SESSION_TTL_SECONDS=3600

# Replay protection
STRICT_REPLAY_PROTECTION=false

# ============================================================
# TESTNET DEPLOYMENT CHECKLIST
# ============================================================
# [ ] Set SOLANA_RPC_URL to devnet
# [ ] Get Helius API key (free tier: https://dev.helius.xyz/)
# [ ] Create Metaplex collection on devnet
# [ ] Deploy SPL token for CAPS (optional)
# [ ] Set up Redis (local or cloud)
# [ ] Generate SERVER_SECRET_KEY
# [ ] Test with multiple wallets
# [ ] Verify no wallet restrictions (ADMIN_WALLETS empty)
# ============================================================
